<!DOCTYPE html>
<html>
<head>
  <title>Time App </title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    body {
      font-family: 'Roboto', sans-serif;
      text-align: center;
      background: linear-gradient(120deg, #89f7fe, #66a6ff);
      height: 100vh;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #fff;
    }

    h1 {
      font-size: 3em;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
      margin-bottom: 20px;
    }

    /* CLOCK */
    #clock {
      font-size: 4em;
      font-weight: bold;
      margin-bottom: 20px;
      text-shadow: 2px 2px 15px rgba(0,0,0,0.4);
    }

    /* CLOCK TOGGLE SWITCH */
    .switch {
      position: relative;
      display: inline-block;
      width: 80px;
      height: 34px;
      margin-bottom: 30px;
    }
    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0;
      right: 0; bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "12h";
      height: 26px;
      width: 26px;
      left: 4px;
      bottom: 4px;
      background-color: white;
      color: #333;
      text-align: center;
      line-height: 26px;
      font-size: 0.9em;
      border-radius: 50%;
      transition: .4s;
    }
    input:checked + .slider {
      background-color: #4CAF50;
    }
    input:checked + .slider:before {
      transform: translateX(46px);
      content: "24h";
    }

    /* BUTTON STYLES */
    button {
      margin: 8px;
      padding: 15px 25px;
      font-size: 1.2em;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: bold;
      transition: all 0.3s ease;
      color: #fff;
      background: linear-gradient(45deg, #ff6ec4, #7873f5);
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
      background: linear-gradient(45deg, #ff8ec4, #a287ff);
    }

    #output {
      margin-top: 30px;
      font-size: 1.5em;
      padding: 20px;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.2);
      display: inline-block;
      min-width: 250px;
      min-height: 50px;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.4);
      transition: all 0.3s ease;
    }

    /* STOPWATCH */
    #stopwatch {
      font-size: 2em;
      font-weight: bold;
      margin-top: 20px;
    }
    .stopwatch-controls button {
      margin: 8px;
      padding: 10px 20px;
      background: linear-gradient(45deg, #43e97b, #38f9d7);
    }

    .hidden {
      display: none;
    }

    /* CALCULATOR STYLES (unchanged) */
    .calculator {
      background: rgba(255, 255, 255, 0.15);
      border-radius: 20px;
      padding: 20px;
      width: 300px;
      margin: 20px auto;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    .calc-display {
      background: rgba(255,255,255,0.3);
      border-radius: 10px;
      height: 50px;
      font-size: 1.5em;
      color: #000;
      text-align: right;
      padding: 10px;
      margin-bottom: 10px;
      overflow-x: auto;
    }
    .calc-buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    .calc-btn {
      background: linear-gradient(45deg, #ff8ec4, #7873f5);
      border: none;
      border-radius: 10px;
      font-size: 1.2em;
      padding: 15px;
      cursor: pointer;
      color: #fff;
      transition: 0.2s;
    }
    .calc-btn:hover {
      transform: scale(1.1);
      background: linear-gradient(45deg, #ffb3d9, #a487ff);
    }
  </style>
</head>
<body>

  <h1>Dashboard</h1>

  <div id="clock"></div>
  <label class="switch">
    <input type="checkbox" id="clockToggle" onchange="toggleClockMode()">
    <span class="slider"></span>
  </label>

  <div id="stopwatch">⏱ 00:00:00</div>
  <div class="stopwatch-controls">
    <button onclick="startStopwatch()">Start</button>
    <button onclick="stopStopwatch()">Stop</button>
    <button onclick="resetStopwatch()">Reset</button>
  </div>

  <div>
    <button onclick="toggleCalculator()">Calculator</button>
    <button onclick="openCalendar()">Calendar</button>
  </div>

  <div id="output"></div>

  <!-- Calculator -->
  <div id="calculator" class="calculator hidden">
    <div id="calcDisplay" class="calc-display">0</div>
    <div class="calc-buttons">
      <button class="calc-btn" onclick="appendCalc('7')">7</button>
      <button class="calc-btn" onclick="appendCalc('8')">8</button>
      <button class="calc-btn" onclick="appendCalc('9')">9</button>
      <button class="calc-btn" onclick="appendCalc('/')">÷</button>
      <button class="calc-btn" onclick="appendCalc('4')">4</button>
      <button class="calc-btn" onclick="appendCalc('5')">5</button>
      <button class="calc-btn" onclick="appendCalc('6')">6</button>
      <button class="calc-btn" onclick="appendCalc('*')">×</button>
      <button class="calc-btn" onclick="appendCalc('1')">1</button>
      <button class="calc-btn" onclick="appendCalc('2')">2</button>
      <button class="calc-btn" onclick="appendCalc('3')">3</button>
      <button class="calc-btn" onclick="appendCalc('-')">−</button>
      <button class="calc-btn" onclick="appendCalc('0')">0</button>
      <button class="calc-btn" onclick="appendCalc('.')">.</button>
      <button class="calc-btn" onclick="calculate()">=</button>
      <button class="calc-btn" onclick="appendCalc('+')">+</button>
      <button class="calc-btn" style="grid-column: span 4; background:#ff4d4d;" onclick="clearCalc()">C</button>
    </div>
  </div>

<script>
let clockMode = '12';

// === CLOCK ===
function updateClock() {
  const now = new Date();
  let hours = now.getHours();
  let ampm = '';

  if (clockMode === '12') {
    ampm = hours >= 12 ? ' PM' : ' AM';
    hours = hours % 12 || 12;
  }

  const time = 
    hours.toString().padStart(2, '0') + ':' +
    now.getMinutes().toString().padStart(2, '0') + ':' +
    now.getSeconds().toString().padStart(2, '0') + ampm;

  document.getElementById('clock').textContent = time;
}
setInterval(updateClock, 1000);
updateClock();

function toggleClockMode() {
  const toggle = document.getElementById("clockToggle");
  clockMode = toggle.checked ? '24' : '12';
}

// === STOPWATCH ===
let stopwatchInterval;
let stopwatchSeconds = 0;
let running = false;

function formatTime(sec) {
  const hrs = Math.floor(sec / 3600);
  const mins = Math.floor((sec % 3600) / 60);
  const secs = sec % 60;
  return `${hrs.toString().padStart(2,'0')}:${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
}

function updateStopwatchDisplay() {
  document.getElementById('stopwatch').textContent = '⏱ ' + formatTime(stopwatchSeconds);
}

function startStopwatch() {
  if (!running) {
    running = true;
    stopwatchInterval = setInterval(() => {
      stopwatchSeconds++;
      updateStopwatchDisplay();
    }, 1000);
  }
}

function stopStopwatch() {
  running = false;
  clearInterval(stopwatchInterval);
}

function resetStopwatch() {
  stopwatchSeconds = 0;
  running = false;
  clearInterval(stopwatchInterval);
  updateStopwatchDisplay();
}

// === CALCULATOR ===
let calcInput = '';

function toggleCalculator() {
  document.getElementById('calculator').classList.toggle('hidden');
}

function appendCalc(value) {
  if (calcInput === '0') calcInput = '';
  calcInput += value;
  document.getElementById('calcDisplay').textContent = calcInput;
}

function calculate() {
  try {
    const result = eval(calcInput);
    document.getElementById('calcDisplay').textContent = result;
    calcInput = result.toString();
  } catch {
    document.getElementById('calcDisplay').textContent = 'Error';
    calcInput = '';
  }
}

function clearCalc() {
  calcInput = '';
  document.getElementById('calcDisplay').textContent = '0';
}

// === CALENDAR ===
let currentMonth = new Date().getMonth();
let currentYear = new Date().getFullYear();

function openCalendar() {
  renderCalendar(currentMonth, currentYear);
}

function renderCalendar(month, year) {
  const now = new Date();
  const today = now.getDate();
  const thisMonth = now.getMonth();
  const thisYear = now.getFullYear();
  const firstDay = new Date(year, month, 1).getDay();
  const daysInMonth = new Date(year, month + 1, 0).getDate();
  const monthName = new Date(year, month).toLocaleString('default', { month: 'long' });

  let calendarHTML = `
    <div style="display:inline-block; background: rgba(255,255,255,0.15); padding:20px; border-radius:12px;">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
        <button onclick="prevMonth()" style="background:#4facfe; border:none; border-radius:6px; padding:6px 10px;">◀</button>
        <h3 style="margin:0;">${monthName} ${year}</h3>
        <button onclick="nextMonth()" style="background:#43e97b; border:none; border-radius:6px; padding:6px 10px;">▶</button>
      </div>
      <table style="width:100%; border-collapse:collapse; text-align:center;">
        <thead><tr><td>Sun</td><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td></tr></thead>
        <tbody>
  `;

  let day = 1;
  calendarHTML += "<tr>";
  for (let i = 0; i < firstDay; i++) calendarHTML += "<td></td>";

  for (let i = firstDay; i < 7; i++) {
    calendarHTML += getDayCell(day, month, year, today, thisMonth, thisYear);
    day++;
  }
  calendarHTML += "</tr>";

  while (day <= daysInMonth) {
    calendarHTML += "<tr>";
    for (let i = 0; i < 7 && day <= daysInMonth; i++) {
      calendarHTML += getDayCell(day, month, year, today, thisMonth, thisYear);
      day++;
    }
    calendarHTML += "</tr>";
  }
  calendarHTML += "</tbody></table></div>";

  document.getElementById('output').innerHTML = calendarHTML;
}

function getDayCell(day, month, year, today, thisMonth, thisYear) {
  const isToday = (day === today && month === thisMonth && year === thisYear);
  const style = isToday
    ? "padding:10px; background:#ff7eb3; border-radius:50%; font-weight:bold;"
    : "padding:10px;";
  return `<td style="${style}">${day}</td>`;
}

function prevMonth() {
  currentMonth--;
  if (currentMonth < 0) {
    currentMonth = 11;
    currentYear--;
  }
  renderCalendar(currentMonth, currentYear);
}

function nextMonth() {
  currentMonth++;
  if (currentMonth > 11) {
    currentMonth = 0;
    currentYear++;
  }
  renderCalendar(currentMonth, currentYear);
}
</script>
</body>
</html>
